using UnityEngine;
using System.Collections;

public class InvulnerabilityBuff : StatusEffect 
{
	public InvulnerabilityBuff()
	{

	}

	public InvulnerabilityBuff(Character caster, Character target, float duration)
	{
		ApplyStatusEffect(caster, target);
	}

	public override void ApplyStatusEffect(Character caster, Character target)
	{
		base.ApplyStatusEffect(caster, target);

		if (target.IsVulnerableTo(EStatus.Invulnerability))
		{
			target.Status |= EStatus.Invulnerability;
			target.StatusColour |= EStatusColour.Green; 
			
			FloorHUDManager.Singleton.TextDriver.SpawnDamageText(target.gameObject, "Invulnerable!", Color.green);
		}
	}

	protected override void EndEffect()
	{
		target.Status &= ~EStatus.Invulnerability;
		target.StatusColour &= ~EStatusColour.Green;
	}
}
